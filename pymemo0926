import asyncio
from bleak import BleakScanner

async def main():
    def detection_callback(device, advertisement_data):
        print(f"Detected: {device.address}, RSSI={device.rssi}, name={device.name}")

    scanner = BleakScanner(detection_callback=detection_callback)
    await scanner.start()
    await asyncio.sleep(5.0)
    await scanner.stop()

asyncio.run(main())
